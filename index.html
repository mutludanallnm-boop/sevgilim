<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SÃ¼rpriz!</title>
    <style>
        body {
            margin: 0; padding: 0;
            background-color: #E0BBE4;
            background-image: linear-gradient(135deg, #E0BBE4 0%, #957DAD 100%);
            font-family: 'Segoe UI', sans-serif;
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
        }
        .container {
            background-color: white; width: 90%; max-width: 600px;
            padding: 40px; border-radius: 20px; text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3); border: 4px solid #fff;
            cursor: pointer;
        }
        .emoji-big { font-size: 100px; margin-bottom: 20px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        #stage2, #stage3 { display: none; }
        .gallery { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; max-height: 350px; overflow-y: auto; }
        .photo-box { width: 100px; height: 100px; object-fit: cover; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="container" onclick="nextStep()">
        <div id="stage1">
            <div class="emoji-big">ğŸ˜»ğŸ’</div>
            <p style="color:#880e4f; font-weight:bold;">Sana bir sÃ¼rprizim var!<br>Kutuya tÄ±kla bakalÄ±m... ğŸ¾</p>
        </div>

        <div id="stage2">
            <div class="emoji-big">ğŸ’Œ</div>
            <p style="font-size:24px; color:#d81b60; font-style:italic;">
                "Seni 14 Åubat'ta deÄŸil, yaÅŸadÄ±ÄŸÄ±m mÃ¼ddetÃ§e her gÃ¼n seveceÄŸim Ã§atlak fÄ±stÄ±ÄŸÄ±mmm!" â¤ï¸
            </p>
            <p style="font-size:12px; color:#aaa;">(Devam etmek iÃ§in tekrar tÄ±kla)</p>
        </div>

        <div id="stage3">
            <h2 style="color: #6a1b9a;">Bizim Hikayemiz</h2>
            <div class="gallery" id="photo-area"></div>
        </div>
    </div>

    <audio id="myAudio" loop>
        <source src="muzik.mp3?v=1" type="audio/mpeg">
    </audio>

    <script>
        let step = 1;

        function nextStep() {
            if (step === 1) {
                document.getElementById('stage1').style.display = 'none';
                document.getElementById('stage2').style.display = 'block';
                
                // --- DEDEKTÄ°F MODU BAÅLIYOR ---
                var audio = document.getElementById("myAudio");
                
                // Ã‡almayÄ± dene
                var playPromise = audio.play();

                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        // BaÅŸarÄ±lÄ± olursa burasÄ± Ã§alÄ±ÅŸÄ±r (Sessizce devam eder)
                        console.log("MÃ¼zik baÅŸladÄ±.");
                    })
                    .catch(error => {
                        // Hata olursa burasÄ± Ã§alÄ±ÅŸÄ±r
                        alert("MÃœZÄ°K HATASI: " + error + "\n\nLÃ¼tfen dosya adÄ±nÄ±n 'muzik.mp3' olduÄŸundan emin ol.");
                    });
                }
                
                // EÄŸer dosya hiÃ§ bulunamazsa bu Ã§alÄ±ÅŸÄ±r
                audio.onerror = function() {
                    alert("DOSYA BULUNAMADI!\n\n'muzik.mp3' dosyasÄ± klasÃ¶rde yok veya adÄ± yanlÄ±ÅŸ.\nGitHub'a yÃ¼klediÄŸinden emin misin?");
                };

                step = 2;
            } 
            else if (step === 2) {
                document.getElementById('stage2').style.display = 'none';
                document.getElementById('stage3').style.display = 'block';
                loadPhotos();
                step = 3;
                document.querySelector('.container').onclick = null;
                document.querySelector('.container').style.cursor = 'default';
            }
        }

        function loadPhotos() {
            const area = document.getElementById('photo-area');
            for(let i=1; i<=9; i++) {
                let img = document.createElement('img');
                img.className = 'photo-box';
                img.src = 'foto/' + i + '.jpg'; 
                img.onerror = function() { this.style.display = 'none'; };
                area.appendChild(img);
            }
        }
    </script>
</body>
</html>
